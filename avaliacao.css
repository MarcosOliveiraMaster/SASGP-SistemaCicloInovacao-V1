/* avaliacao.css - Estilos específicos da página de avaliação */

/* ============================================================================
   LAYOUT DA PÁGINA
   ============================================================================ */

.page-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--espaco-xl);
    padding-bottom: var(--espaco-lg);
    border-bottom: 2px solid var(--borda-clara);
}

.header-content {
    flex: 1;
}

.page-header h1 {
    margin-bottom: var(--espaco-xs);
    color: var(--cor-primaria);
}

.subtitle {
    color: var(--texto-secundario);
    font-size: var(--fonte-md);
    margin: 0;
}

/* ============================================================================
   SEÇÃO DE STATUS
   ============================================================================ */

.status-section {
    margin-bottom: var(--espaco-lg);
}

.status-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--espaco-md);
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: var(--espaco-xs);
    padding: var(--espaco-xs) var(--espaco-sm);
    background: var(--cinza-100);
    border-radius: var(--borda-radius-pill);
}

.status-dot {
    width: 10px;
    height: 10px;
    border-radius: var(--borda-radius-circular);
    background: var(--cinza-500);
}

.status-dot.em-analise { background: var(--cor-info); }
.status-dot.aprovada-aguardando { background: var(--cor-aviso); }
.status-dot.aprovada-execucao { background: var(--cor-sucesso); }
.status-dot.arquivada { background: var(--cinza-500); }
.status-dot.reprovada { background: var(--cor-erro); }

.status-text {
    font-size: var(--fonte-xs);
    font-weight: var(--fonte-medium);
    color: var(--texto-secundario);
}

/* ============================================================================
   SEÇÃO DE MÉDIA
   ============================================================================ */

.media-section {
    margin-bottom: var(--espaco-lg);
    background: linear-gradient(135deg, var(--cor-primaria-suave), var(--cinza-50));
    border: 2px solid var(--cor-primaria);
}

.media-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--espaco-lg);
}

.media-content {
    display: flex;
    align-items: center;
    gap: var(--espaco-xl);
}

.estrelas-grandes {
    font-size: 3.5rem;
    color: #FFD700;
    text-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);
    min-width: 200px;
}

.media-info {
    display: flex;
    flex-direction: column;
    gap: var(--espaco-xs);
}

.media-valor {
    font-size: var(--fonte-xxxl);
    font-weight: var(--fonte-black);
    color: var(--cor-primaria);
    line-height: 1;
}

.media-contador {
    font-size: var(--fonte-sm);
    color: var(--texto-terciario);
}

/* ============================================================================
   GRID DE AVALIAÇÕES
   ============================================================================ */

.avaliacoes-section {
    margin-bottom: var(--espaco-xl);
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--espaco-lg);
    flex-wrap: wrap;
    gap: var(--espaco-md);
}

.section-header h3 {
    margin: 0;
}

.filtros {
    display: flex;
    gap: var(--espaco-sm);
    flex-wrap: wrap;
}

.form-control-sm {
    padding: var(--espaco-xs) var(--espaco-sm);
    font-size: var(--fonte-xs);
    min-width: 180px;
}

.grid-avaliacoes {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: var(--espaco-md);
    margin-bottom: var(--espaco-lg);
}

/* ============================================================================
   CARD DE AVALIAÇÃO
   ============================================================================ */

.card-avaliacao {
    background: var(--fundo-primario);
    border-radius: var(--borda-radius-lg);
    padding: var(--espaco-lg);
    box-shadow: var(--sombra-suave);
    border: 1px solid var(--borda-clara);
    transition: all var(--transicao-normal);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.card-avaliacao:hover {
    transform: translateY(-4px);
    box-shadow: var(--sombra-media);
    border-color: var(--cor-primaria);
}

.card-avaliacao::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: var(--cor-primaria);
}

.card-avaliacao-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--espaco-sm);
}

.card-avaliador {
    font-weight: var(--fonte-semibold);
    color: var(--texto-primario);
    font-size: var(--fonte-md);
}

.card-data {
    font-size: var(--fonte-xs);
    color: var(--texto-terciario);
    white-space: nowrap;
}

.card-estrelas {
    font-size: 1.5rem;
    color: #FFD700;
    margin: var(--espaco-sm) 0;
    line-height: 1;
}

.card-comentario {
    color: var(--texto-secundario);
    line-height: var(--linha-lg);
    font-size: var(--fonte-sm);
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.card-avaliacao:hover .card-comentario {
    -webkit-line-clamp: 6;
}

/* Avaliação com diferentes cores baseadas nas estrelas */
.card-avaliacao[data-rating="5"]::before { background: var(--cor-sucesso); }
.card-avaliacao[data-rating="4"]::before { background: var(--cor-info); }
.card-avaliacao[data-rating="3"]::before { background: var(--cor-aviso); }
.card-avaliacao[data-rating="2"]::before { background: var(--cor-aviso-claro); }
.card-avaliacao[data-rating="1"]::before { background: var(--cor-erro); }

/* ============================================================================
   ESTADO VAZIO
   ============================================================================ */

.sem-avaliacoes {
    background: var(--fundo-secundario);
    border: 2px dashed var(--borda-clara);
    border-radius: var(--borda-radius-lg);
    padding: var(--espaco-xxl);
    text-align: center;
    margin: var(--espaco-lg) 0;
}

.empty-state {
    max-width: 400px;
    margin: 0 auto;
}

.empty-icon {
    font-size: 4rem;
    margin-bottom: var(--espaco-md);
    opacity: 0.5;
}

.empty-state h4 {
    color: var(--texto-secundario);
    margin-bottom: var(--espaco-sm);
}

.empty-state p {
    color: var(--texto-terciario);
    margin-bottom: var(--espaco-lg);
}

/* ============================================================================
   INFORMAÇÕES DA SOLUÇÃO
   ============================================================================ */

.info-solucao-section {
    background: var(--fundo-secundario);
    border: 1px solid var(--borda-clara);
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--espaco-lg);
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: var(--espaco-xs);
}

.info-label {
    font-size: var(--fonte-xs);
    font-weight: var(--fonte-semibold);
    color: var(--texto-terciario);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.info-value {
    font-size: var(--fonte-md);
    color: var(--texto-primario);
    font-weight: var(--fonte-medium);
    word-break: break-word;
}

/* ============================================================================
   ESTRELAS DE SELEÇÃO
   ============================================================================ */

.estrelas-selecao {
    margin: var(--espaco-md) 0;
}

.estrelas-container {
    display: flex;
    gap: var(--espaco-sm);
    margin-bottom: var(--espaco-xs);
}

.estrela {
    font-size: 2.5rem;
    cursor: pointer;
    transition: all var(--transicao-normal);
    color: var(--cinza-300);
    line-height: 1;
}

.estrela:hover {
    transform: scale(1.2);
}

.estrela.selecionada,
.estrela:hover ~ .estrela {
    color: #FFD700;
}

.estrela:hover {
    color: #FFD700;
}

.rating-label {
    font-size: var(--fonte-sm);
    color: var(--texto-terciario);
    text-align: center;
    min-height: 24px;
}

/* Labels para cada valor */
.rating-label[data-value="1"]::after { content: " - Ruim"; color: var(--cor-erro); }
.rating-label[data-value="2"]::after { content: " - Regular"; color: var(--cor-aviso); }
.rating-label[data-value="3"]::after { content: " - Bom"; color: #FFC107; }
.rating-label[data-value="4"]::after { content: " - Muito Bom"; color: #8BC34A; }
.rating-label[data-value="5"]::after { content: " - Excelente"; color: var(--cor-sucesso); }

/* ============================================================================
   CONTADOR DE CARACTERES
   ============================================================================ */

.char-counter {
    text-align: right;
    font-size: var(--fonte-xs);
    color: var(--texto-terciario);
    margin-top: var(--espaco-xs);
}

.char-counter.warning {
    color: var(--cor-aviso);
}

.char-counter.error {
    color: var(--cor-erro);
    font-weight: var(--fonte-bold);
}

/* ============================================================================
   DETALHES DA AVALIAÇÃO
   ============================================================================ */

.avaliacao-detalhes {
    padding: var(--espaco-sm);
}

.detalhes-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--espaco-md);
    padding-bottom: var(--espaco-sm);
    border-bottom: 1px solid var(--borda-clara);
}

.detalhes-avaliador {
    font-size: var(--fonte-lg);
    font-weight: var(--fonte-bold);
    color: var(--texto-primario);
}

.detalhes-data {
    font-size: var(--fonte-sm);
    color: var(--texto-terciario);
    background: var(--cinza-100);
    padding: var(--espaco-xxs) var(--espaco-sm);
    border-radius: var(--borda-radius-sm);
}

.detalhes-estrelas {
    font-size: 2rem;
    color: #FFD700;
    text-align: center;
    margin: var(--espaco-lg) 0;
}

.detalhes-comentario {
    background: var(--fundo-secundario);
    padding: var(--espaco-lg);
    border-radius: var(--borda-radius-md);
    line-height: var(--linha-lg);
    color: var(--texto-secundario);
    white-space: pre-wrap;
    max-height: 300px;
    overflow-y: auto;
}

.detalhes-comentario::-webkit-scrollbar {
    width: 6px;
}

.detalhes-comentario::-webkit-scrollbar-thumb {
    background: var(--cinza-300);
    border-radius: var(--borda-radius-sm);
}

/* ============================================================================
   POPUP DE CONFIRMAÇÃO
   ============================================================================ */

.modal-xs {
    max-width: 400px;
}

.confirm-icon {
    font-size: 4rem;
    margin-bottom: var(--espaco-lg);
}

.text-center {
    text-align: center;
}

/* ============================================================================
   ANIMAÇÕES ESPECÍFICAS
   ============================================================================ */

@keyframes starPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

.estrela.animada {
    animation: starPulse 0.5s ease;
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.card-avaliacao {
    animation: slideInUp 0.3s ease backwards;
}

.card-avaliacao:nth-child(1) { animation-delay: 0.1s; }
.card-avaliacao:nth-child(2) { animation-delay: 0.2s; }
.card-avaliacao:nth-child(3) { animation-delay: 0.3s; }
.card-avaliacao:nth-child(4) { animation-delay: 0.4s; }
.card-avaliacao:nth-child(5) { animation-delay: 0.5s; }
.card-avaliacao:nth-child(n+6) { animation-delay: 0.6s; }

/* ============================================================================
   RESPONSIVIDADE
   ============================================================================ */

@media (max-width: 768px) {
    .page-header {
        flex-direction: column;
        gap: var(--espaco-md);
    }
    
    .media-content {
        flex-direction: column;
        text-align: center;
        gap: var(--espaco-md);
    }
    
    .estrelas-grandes {
        font-size: 2.5rem;
        min-width: auto;
    }
    
    .media-valor {
        font-size: var(--fonte-xxl);
    }
    
    .grid-avaliacoes {
        grid-template-columns: 1fr;
    }
    
    .section-header {
        flex-direction: column;
        align-items: stretch;
    }
    
    .filtros {
        flex-direction: column;
    }
    
    .info-grid {
        grid-template-columns: 1fr;
        gap: var(--espaco-md);
    }
    
    .estrela {
        font-size: 2rem;
    }
}

@media (max-width: 480px) {
    .card-avaliacao-header {
        flex-direction: column;
        gap: var(--espaco-xs);
    }
    
    .card-data {
        align-self: flex-start;
    }
    
    .modal {
        margin: var(--espaco-sm);
    }
}

/* ============================================================================
   ESTADOS ESPECIAIS
   ============================================================================ */

.loading-state {
    grid-column: 1 / -1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--espaco-xxl);
    color: var(--texto-terciario);
}

.loading-state .spinner {
    width: 40px;
    height: 40px;
    border: 4px solid var(--cinza-200);
    border-top: 4px solid var(--cor-primaria);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: var(--espaco-md);
}

/* Estados de filtro ativo */
.filtro-ativo {
    border-color: var(--cor-primaria);
    background: var(--cor-primaria-suave);
}

/* Highlight para nova avaliação */
.card-avaliacao.nova {
    animation: pulse 2s infinite;
    border-color: var(--cor-primaria);
    box-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
}